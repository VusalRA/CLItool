/*
PostgreSQL Backup
Database: movie/public
Backup Time: 2021-05-30 20:34:14
*/

DROP SEQUENCE IF EXISTS "public"."gender_id_seq";
DROP SEQUENCE IF EXISTS "public"."genres_id_seq";
DROP SEQUENCE IF EXISTS "public"."movies_id_seq";
DROP SEQUENCE IF EXISTS "public"."people_id_seq";
DROP SEQUENCE IF EXISTS "public"."professions_id_seq";
DROP TABLE IF EXISTS "public"."gender";
DROP TABLE IF EXISTS "public"."genres";
DROP TABLE IF EXISTS "public"."movies";
DROP TABLE IF EXISTS "public"."movies_genres";
DROP TABLE IF EXISTS "public"."people";
DROP TABLE IF EXISTS "public"."people_professions";
DROP TABLE IF EXISTS "public"."person_movie";
DROP TABLE IF EXISTS "public"."professions";
CREATE SEQUENCE "gender_id_seq" 
INCREMENT 1
MINVALUE  1
MAXVALUE 2147483647
START 1
CACHE 1;
CREATE SEQUENCE "genres_id_seq" 
INCREMENT 1
MINVALUE  1
MAXVALUE 9223372036854775807
START 1
CACHE 1;
CREATE SEQUENCE "movies_id_seq" 
INCREMENT 1
MINVALUE  1
MAXVALUE 9223372036854775807
START 1
CACHE 1;
CREATE SEQUENCE "people_id_seq" 
INCREMENT 1
MINVALUE  1
MAXVALUE 9223372036854775807
START 1
CACHE 1;
CREATE SEQUENCE "professions_id_seq" 
INCREMENT 1
MINVALUE  1
MAXVALUE 9223372036854775807
START 1
CACHE 1;
CREATE TABLE "gender" (
  "id" int4 NOT NULL GENERATED BY DEFAULT AS IDENTITY (
INCREMENT 1
MINVALUE  1
MAXVALUE 2147483647
START 1
),
  "value" varchar(255) COLLATE "pg_catalog"."default"
)
;
ALTER TABLE "gender" OWNER TO "postgres";
CREATE TABLE "genres" (
  "id" int8 NOT NULL GENERATED BY DEFAULT AS IDENTITY (
INCREMENT 1
MINVALUE  1
MAXVALUE 9223372036854775807
START 1
),
  "name" varchar(255) COLLATE "pg_catalog"."default"
)
;
ALTER TABLE "genres" OWNER TO "postgres";
CREATE TABLE "movies" (
  "id" int8 NOT NULL GENERATED BY DEFAULT AS IDENTITY (
INCREMENT 1
MINVALUE  1
MAXVALUE 9223372036854775807
START 1
),
  "title" varchar(255) COLLATE "pg_catalog"."default"
)
;
ALTER TABLE "movies" OWNER TO "postgres";
CREATE TABLE "movies_genres" (
  "movie_id" int8 NOT NULL,
  "genre_id" int8 NOT NULL
)
;
ALTER TABLE "movies_genres" OWNER TO "postgres";
CREATE TABLE "people" (
  "id" int8 NOT NULL GENERATED BY DEFAULT AS IDENTITY (
INCREMENT 1
MINVALUE  1
MAXVALUE 9223372036854775807
START 1
),
  "birth_date" timestamp(6),
  "name" varchar(255) COLLATE "pg_catalog"."default",
  "surname" varchar(255) COLLATE "pg_catalog"."default",
  "gender_id" int4
)
;
ALTER TABLE "people" OWNER TO "postgres";
CREATE TABLE "people_professions" (
  "people_id" int8 NOT NULL,
  "professions_id" int8 NOT NULL
)
;
ALTER TABLE "people_professions" OWNER TO "postgres";
CREATE TABLE "person_movie" (
  "person_id" int8 NOT NULL,
  "movie_id" int8 NOT NULL
)
;
ALTER TABLE "person_movie" OWNER TO "postgres";
CREATE TABLE "professions" (
  "id" int8 NOT NULL GENERATED BY DEFAULT AS IDENTITY (
INCREMENT 1
MINVALUE  1
MAXVALUE 9223372036854775807
START 1
),
  "name" varchar(255) COLLATE "pg_catalog"."default"
)
;
ALTER TABLE "professions" OWNER TO "postgres";
BEGIN;
LOCK TABLE "public"."gender" IN SHARE MODE;
DELETE FROM "public"."gender";
INSERT INTO "public"."gender" ("id","value") VALUES (1, 'Man'),(2, 'Woman');
COMMIT;
BEGIN;
LOCK TABLE "public"."genres" IN SHARE MODE;
DELETE FROM "public"."genres";
INSERT INTO "public"."genres" ("id","name") VALUES (1, 'Action'),(2, 'Comedy'),(3, 'Drama'),(4, 'Fantasy'),(5, 'Horror'),(6, 'Mystery'),(7, 'Romance'),(8, 'Thriller'),(9, 'Western');
COMMIT;
BEGIN;
LOCK TABLE "public"."movies" IN SHARE MODE;
DELETE FROM "public"."movies";
INSERT INTO "public"."movies" ("id","title") VALUES (1, 'Lucy'),(2, 'Oxygen'),(3, 'Nobody');
COMMIT;
BEGIN;
LOCK TABLE "public"."movies_genres" IN SHARE MODE;
DELETE FROM "public"."movies_genres";
INSERT INTO "public"."movies_genres" ("movie_id","genre_id") VALUES (1, 4),(2, 8),(3, 1);
COMMIT;
BEGIN;
LOCK TABLE "public"."people" IN SHARE MODE;
DELETE FROM "public"."people";
INSERT INTO "public"."people" ("id","birth_date","name","surname","gender_id") VALUES (1, '1968-09-20 00:00:00', 'Chad', 'Stahelski', 1),(2, '1959-03-18 00:00:00', 'Luc', 'Besson', 1),(3, '1984-11-22 00:00:00', 'Skarlet', 'Yohansson', 2);
COMMIT;
BEGIN;
LOCK TABLE "public"."people_professions" IN SHARE MODE;
DELETE FROM "public"."people_professions";
INSERT INTO "public"."people_professions" ("people_id","professions_id") VALUES (1, 1),(2, 1),(3, 10);
COMMIT;
BEGIN;
LOCK TABLE "public"."person_movie" IN SHARE MODE;
DELETE FROM "public"."person_movie";
INSERT INTO "public"."person_movie" ("person_id","movie_id") VALUES (1, 3),(2, 1),(3, 1);
COMMIT;
BEGIN;
LOCK TABLE "public"."professions" IN SHARE MODE;
DELETE FROM "public"."professions";
INSERT INTO "public"."professions" ("id","name") VALUES (1, 'Director'),(2, 'Producer'),(3, 'Set Designer'),(4, 'Director of Photography'),(5, 'Costume Designer'),(6, 'Prop Master'),(7, 'Makeup Artist'),(8, 'Movie Editor'),(9, 'Composer'),(10, 'Artist'),(11, 'Art Director');
COMMIT;
ALTER TABLE "gender" ADD CONSTRAINT "gender_pkey" PRIMARY KEY ("id");
ALTER TABLE "genres" ADD CONSTRAINT "genres_pkey" PRIMARY KEY ("id");
ALTER TABLE "movies" ADD CONSTRAINT "movies_pkey" PRIMARY KEY ("id");
ALTER TABLE "people" ADD CONSTRAINT "people_pkey" PRIMARY KEY ("id");
ALTER TABLE "professions" ADD CONSTRAINT "professions_pkey" PRIMARY KEY ("id");
ALTER TABLE "movies_genres" ADD CONSTRAINT "fkk0w7fx0a7flrtafppanyup87d" FOREIGN KEY ("movie_id") REFERENCES "public"."movies" ("id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "movies_genres" ADD CONSTRAINT "fkrs5u5iygsuht2f0cag9b9h1ob" FOREIGN KEY ("genre_id") REFERENCES "public"."genres" ("id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "people" ADD CONSTRAINT "fkefmwrk3p3jhi3j4uhouqyjow2" FOREIGN KEY ("gender_id") REFERENCES "public"."gender" ("id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "people_professions" ADD CONSTRAINT "fk4wr0t6371swnfn9j9alxaju1h" FOREIGN KEY ("people_id") REFERENCES "public"."people" ("id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "people_professions" ADD CONSTRAINT "fkslptbj6s8v9gdmtx3kd8x62hc" FOREIGN KEY ("professions_id") REFERENCES "public"."professions" ("id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "person_movie" ADD CONSTRAINT "fkb6u10tcxmajmko58833dmgwgh" FOREIGN KEY ("person_id") REFERENCES "public"."people" ("id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER TABLE "person_movie" ADD CONSTRAINT "fkof7kt9t4fw5bqfxe4mthf7e6f" FOREIGN KEY ("movie_id") REFERENCES "public"."movies" ("id") ON DELETE NO ACTION ON UPDATE NO ACTION;
ALTER SEQUENCE "gender_id_seq"
OWNED BY "gender"."id";
SELECT setval('"gender_id_seq"', 3, true);
ALTER SEQUENCE "gender_id_seq" OWNER TO "postgres";
ALTER SEQUENCE "genres_id_seq"
OWNED BY "genres"."id";
SELECT setval('"genres_id_seq"', 10, true);
ALTER SEQUENCE "genres_id_seq" OWNER TO "postgres";
ALTER SEQUENCE "movies_id_seq"
OWNED BY "movies"."id";
SELECT setval('"movies_id_seq"', 4, true);
ALTER SEQUENCE "movies_id_seq" OWNER TO "postgres";
ALTER SEQUENCE "people_id_seq"
OWNED BY "people"."id";
SELECT setval('"people_id_seq"', 4, true);
ALTER SEQUENCE "people_id_seq" OWNER TO "postgres";
ALTER SEQUENCE "professions_id_seq"
OWNED BY "professions"."id";
SELECT setval('"professions_id_seq"', 12, true);
ALTER SEQUENCE "professions_id_seq" OWNER TO "postgres";
